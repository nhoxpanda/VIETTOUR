@using CRM.Core
@using CRMVIETTOUR.Models
@using CRMVIETTOUR.Utilities
@model IEnumerable<tbl_CustomerVisa>
@{ int j = 1;}

<div class="table-scrollable table-custom-format">
    @if (ViewBag.IsAdd != null && ViewBag.IsAdd)
    {
        <button class="btn btn-primary" onclick="btnCreateVisa()" id="btnCreateVisa"><i class="fa fa-plus"></i>&nbsp;Thêm</button>
    }
    <br />
    <br />
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th>#</th>
                <th>STT</th>
                <th>Mã visa</th>
                <th>Quốc gia</th>
                <th>Tình trạng</th>
                <th>Loại visa</th>
                <th>Ngày có hiệu lực</th>
                <th>Ngày hết hạn</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null)
            {
                foreach (var item in Model)
                {
                    <tr class="odd gradeX" id="visaCustomer@(item.Id)">
                        <td>
                            @if (ViewBag.IsEdit != null && ViewBag.IsEdit)
                            {<a style="cursor: pointer" onclick="updateVisa(@item.Id)"><i class="fa fa-pencil"></i>&nbsp;Sửa</a><br />}
                            @if (ViewBag.IsDelete != null && ViewBag.IsDelete)
                            { <a style="cursor: pointer" onclick="deleteVisa(@item.Id)"><i class="fa fa-trash"></i>&nbsp;Xóa</a><br />}
                            @*@if (ViewBag.IsEdit != null && ViewBag.IsEdit)
                                {<a style="cursor: pointer" onclick="insertTourVisa(@item.Id)"><i class="fa fa-plane"></i>&nbsp;Tour</a>}*@
                        </td>
                        <td>@j</td>
                        <td>@item.VisaNumber</td>
                        <td>@(item.TagsId != null ? item.tbl_Tags.Tag : "")</td>
                        <td>@(item.DictionaryId != null ? item.tbl_Dictionary.Name : "")</td>
                        <td>@(item.VisaTypeId != null ? item.tbl_DictionaryType.Name : "")</td>
                        <td>@string.Format("{0:dd-MM-yyyy}", item.CreatedDateVisa)</td>
                        <td>@string.Format("{0:dd-MM-yyyy}", item.ExpiredDateVisa)</td>
                    </tr>
                            j++;
                }
            }
        </tbody>
    </table>
</div>

